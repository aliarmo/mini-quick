{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/request-factory.ts","webpack:///../node_modules/@tencent/fns/fns.js","webpack:///./lib/message.ts","webpack:///./index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","dataConfig","dataCache","genDefaultConfig","fixBefore","param","__assign","data","header","content-type","method","dataType","responseType","fixAfter","requestParam","url","genDefaultCacheKey","isPersistent","wx","setStorage","onError","err","getStorageSync","JSON","stringify","getPageConfig","getConfigByName","moduleName","first_screen_name","register","config","default","extraParam","Error","def","then","Promise","resolve","reject","console","log","options","success","res","code","code2xx3xx","statusCode","deltData","fail","deltError","length","request","hasOwn","obj","prop","fns","escape","markup","String","replace","type","exec","toString","toLowerCase","keys","this","objEach","push","fn","ctx","apply","arguments","extend","source","trim","str","indexOf","arr","tar","some","item","index","forEach","len","map","next","reduce","cb","TypeError","result","filter","context","val","nextTick","setTimeout","_nextTick","lock","pending","args","slice","unshift","queue","capacity","callbacks","remains","shift","delegator","tmpQueue","f","once","called","verCompare","v1","v2","split","c1","Number","c2","batchTimeout","count","time","that","inter","Math","round","startTime","collecting","endTimes","Date","offset","endTime","flushFns","e","error","max","Message","_evtObjs","_outdatedMsgs","noop","on","evtType","handler","_once","off","wait","types","handlers","nextHandlers","evtObj","emit","Array","emitAsync","assign","target","msg","message_1","request_factory_1","message","global_cache","P","methodValidate","former","requestPageData","$requestPageData","$onPreload","state","onLoad","$take","isPreload","isCacheFirstScreen","$getFirstScreen","setData","$setOrigin","origin","$getOrigin","_origin","undefined","$put","$setFirstScreen","$preload","_this","$request","formatted","onPageDataPreloadCallback","onPageDataPagingCallback","onPageDataFirstScreenCallback","catch","$paging","onBeforePaging","before","after","Wrapper","Page","requestFactory"],"mappings":"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","file":"quick.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","\nlet dataCache = {}\nlet dataConfig\n\nexport const first_screen_name = 'FIRST_SCREEN_NAME'   // 首屏配置名称\nexport function register(config) {\n  dataConfig = config\n}\n\nexport default (name, moduleName, extraParam) => {\n  let config = getConfigByName(name, moduleName)\n  if (!config) {\n    throw new Error(`缺少名字为${name}模块名为${moduleName}的数据源配置`)\n  }\n  let def = genDefaultConfig()\n  let url = config.url\n  let p = config.fixBefore && config.fixBefore(extraParam)\n  let promise\n  if (p && p.then) {\n    promise = p\n  } else {\n    promise = Promise.resolve(p)\n  }\n  return promise.then(param => {\n    param = { ...def.fixBefore(extraParam), ...param }\n    let fixAfter = function (data) {\n      let res\n      if (config.fixAfter) {\n        let deltData = config.fixAfter(data, param, url)\n        res = deltData && deltData[0] ? deltData : def.fixAfter(deltData[1] || data, param, url)\n      } else {\n        res = def.fixAfter(data, param, url)\n      }\n      return res\n    }\n    let onError = function (err) {\n      let res\n      if (config.onError) {\n        let deltError = config.onError(err, param, url)\n        res = deltError && deltError.length ? deltError : ''\n      }\n      return res || def.onError(err, param, url)\n    }\n    return new Promise((resolve, reject) => {\n      console.log(\"request param\", param)\n      let options = {\n        url,\n        ...param,\n        success(res) {\n          if (res && code2xx3xx(res.statusCode)) {\n            resolve(fixAfter(res))  // 如何处理那三种数据case\n          } else {\n            options.fail(res)\n          }\n        },\n        fail(err) {\n          let res = onError(err)\n          resolve(res)\n        }\n      }\n      // @ts-ignore\n      wx.request(options)\n    })\n  })\n\n}\n\nfunction code2xx3xx(code) {\n  return code >= 200 && code < 400\n}\n\nexport function genDefaultConfig() {\n  return {\n    fixBefore(param) {\n\n      // requestParam\n      return {\n        data: {},\n        header: { 'content-type': 'application/json' },\n        method: 'GET',\n        dataType: 'json',\n        responseType: 'text',\n        ...param\n      }\n    },\n    fixAfter(data, requestParam, url) {\n      let key = genDefaultCacheKey(requestParam, url)\n      //持久化缓存\n      if (requestParam.isPersistent) {\n        // @ts-ignore\n        wx.setStorage({\n          key,\n          data\n        })\n      } else {\n        dataCache[key] = data\n      }\n      return [null, data]\n    },\n    onError(err, requestParam, url) {\n      let key = genDefaultCacheKey(requestParam, url)\n      let data = requestParam.isPersistent ? wx.getStorageSync(key) : dataCache[key]\n\n      return [data ? null : err, data]\n    }\n  }\n}\n\nfunction genDefaultCacheKey(param, url) {\n  return param.key || `${url}_${JSON.stringify(param)}`\n}\n\nexport function getPageConfig(name) {\n  return dataConfig[name]\n}\nexport function getConfigByName(name, moduleName) {\n  return getPageConfig(name)[moduleName || first_screen_name]\n}\n","'use strict'\r\n\r\nvar undef = void(0)\r\nfunction hasOwn (obj, prop) {\r\n    return obj && obj.hasOwnProperty && obj.hasOwnProperty(prop)\r\n}\r\nfunction _nextTick() {\r\n    var ctx = this\r\n    return function () {\r\n        setTimeout.apply(ctx, arguments)\r\n    }\r\n}\r\nvar fns = {\r\n    escape: function (markup) {\r\n        if (!markup) return '';\r\n        return String(markup)\r\n            .replace(/&/g, '&amp;')\r\n            .replace(/</g, '&lt;')\r\n            .replace(/>/g, '&gt;')\r\n            .replace(/'/g, '&#39;')\r\n            .replace(/\"/g, '&quot;');\r\n    },\r\n    type: function(obj) {\r\n        if (obj === null) return 'null'\r\n        else if (obj === undef) return 'undefined'\r\n        var m = /\\[object (\\w+)\\]/.exec(Object.prototype.toString.call(obj))\r\n        return m ? m[1].toLowerCase() : ''\r\n    },\r\n    keys: function (obj) {\r\n        var keys = []\r\n        if (!obj) return keys\r\n        if (Object.keys) return Object.keys(obj)\r\n        this.objEach(obj, function (key) {\r\n            keys.push(key)\r\n        })\r\n        return keys\r\n    },\r\n    bind: function (fn, ctx) {\r\n        if (fn.bind) return fn.bind(ctx)\r\n        return function () {\r\n            return fn.apply(ctx, arguments)\r\n        }\r\n    },\r\n    extend: function(obj) {\r\n        if (this.type(obj) != 'object' && this.type(obj) != 'function') return obj;\r\n        var source, prop;\r\n        for (var i = 1, length = arguments.length; i < length; i++) {\r\n            source = arguments[i];\r\n            for (prop in source) {\r\n                if (hasOwn(source, prop)) {\r\n                    obj[prop] = source[prop];\r\n                }\r\n            }\r\n        }\r\n        return obj;\r\n    },\r\n    trim: function (str) {\r\n        if (str.trim) return str.trim()\r\n        else {\r\n            return str.replace(/^\\s+|\\s+$/gm, '')\r\n        }\r\n    },\r\n    indexOf: function (arr, tar) {\r\n        if (arr.indexOf) return arr.indexOf(tar)\r\n        else {\r\n            var i = -1\r\n            fns.some(arr, function (item, index) {\r\n                if (item === tar) {\r\n                    i = index\r\n                    return true\r\n                }\r\n            })\r\n            return i\r\n        }\r\n    },\r\n    forEach: function (arr, fn) {\r\n        if (arr.forEach) return arr.forEach(fn)\r\n        else {\r\n            var len = arr.length\r\n            for (var i = 0 ; i < len; i++) {\r\n                fn(arr[i], i)\r\n            }\r\n        }\r\n        return arr\r\n    },\r\n    some: function (arr, fn) {\r\n        if (arr.some) return arr.some(fn)\r\n        else {\r\n            var len = arr.length\r\n            var r = false\r\n            for (var i = 0 ; i < len; i++) {\r\n                if (fn(arr[i], i)) {\r\n                    r = true\r\n                    break\r\n                }\r\n            }\r\n            return r\r\n        }\r\n    },\r\n    map: function (arr, fn) {\r\n        if (arr.map) return arr.map(fn)\r\n        else {\r\n            var len = arr.length\r\n            var next = []\r\n            for (var i = 0 ; i < len; i++) {\r\n                next.push(fn(arr[i], i))\r\n            }\r\n            return next\r\n        }\r\n    },\r\n    objEach: function (obj, fn) {\r\n        if (!obj) return\r\n        for(var key in obj) {\r\n            if (hasOwn(obj, key)) {\r\n                if(fn(key, obj[key]) === false) break\r\n            }\r\n        }\r\n    },\r\n    reduce: function (arr, cb/*initValue*/) {\r\n        if (fns.type(cb) != 'function') throw new TypeError('Array.prototype.reduce callback must be a function')\r\n\r\n        var length = arr.length\r\n        if (length === 0 && arguments.length === 2) {\r\n            throw new TypeError('reduce of empty array with no initial value');\r\n        }\r\n        var result;\r\n        var i = 0\r\n        if (arguments.length >= 3) {\r\n            result = arguments[2]\r\n        } else {\r\n            do {\r\n                if (i in arr) {\r\n                    result = arr[i++];\r\n                    break;\r\n                }\r\n                // if array contains no values, no initial value to return\r\n                if (++i >= length) {\r\n                    throw new TypeError('reduceRight of empty array with no initial value');\r\n                }\r\n            } while (true);\r\n        }\r\n        for (; i < length; i++) {\r\n            result = cb(result, arr[i], i, arr);\r\n        }\r\n        return result;\r\n    },\r\n    filter: function(arr, fn, context) {\r\n        if (arr.filter) return arr.filter(fn)\r\n        else {\r\n            var len = arr.length\r\n            var res = []\r\n            for(var i = 0; i < len; i++) {\r\n                var val = arr[i]\r\n                if(fn.call(context, val, i, arr)) {\r\n                    res.push(val)\r\n                }\r\n            }\r\n            return res\r\n        }\r\n    },\r\n    nextTick: _nextTick(),\r\n    /**\r\n     * Lock function before lock release\r\n     */\r\n    lock: function lock(fn) {\r\n        var pending\r\n        return function () {\r\n            if (pending) return\r\n            pending = true\r\n            var args = [].slice.call(arguments, 0)\r\n            args.unshift(function () {\r\n                pending = false\r\n            })\r\n            return fn.apply(this, args)\r\n        }\r\n    },\r\n    /**\r\n     * Queue when pending, execute one by one\r\n     * @param {Function} fn executed function\r\n     * @param {Number} capacity Allow run how much parall task at once\r\n     * @async\r\n     */\r\n    queue: function queue(fn, capacity) {\r\n        capacity = capacity || 1\r\n        var callbacks = []\r\n        var remains = capacity\r\n        function next() {\r\n            var item = callbacks.shift()\r\n            if (!item) {\r\n                remains = capacity\r\n                return\r\n            }\r\n            remains--\r\n            var fn = item[0]\r\n            var ctx = item[1]\r\n            var args = item[2]\r\n            args.unshift(function () {\r\n                // once task is done, remains increasing\r\n                remains ++\r\n                // then check or call next task\r\n                next.apply(this, arguments)\r\n            })\r\n            setTimeout(function () {\r\n                fn.apply(ctx, args)\r\n            })\r\n        }\r\n        return function () {\r\n            callbacks.push([fn, this, [].slice.call(arguments, 0)])\r\n            if (!remains) return\r\n            return next()\r\n        }\r\n    },\r\n    /**\r\n     * Queue and wait for the same result\r\n     * @param {Function} delegate method\r\n     * @return {Function} the method receive a callback function\r\n     */\r\n    delegator: function (fn) {\r\n        var pending\r\n        var queue = []\r\n        return function (cb) {\r\n            if (pending) return queue.push(cb)\r\n            pending = true\r\n            fn.call(this, function () {\r\n                pending = false\r\n                var ctx = this\r\n                var args = arguments\r\n                cb && cb.apply(ctx, args)\r\n                var tmpQueue = queue;\r\n                queue = []\r\n                fns.forEach(tmpQueue, function (f) {\r\n                    f && f.apply(ctx, args)\r\n                })\r\n            })\r\n        }\r\n    },\r\n    /**\r\n     * Call only once\r\n     */\r\n    once: function (cb/*[, ctx]*/) {\r\n        var args = arguments\r\n        var called\r\n        return function () {\r\n            if (called || !cb) return\r\n            called = true\r\n            return cb.apply(args.length >=2 ? args[1] : null, arguments)\r\n        }\r\n    },\r\n    /**\r\n     * Version compare\r\n     * @param  {String} v1 6.5.5.200\r\n     * @param  {String} v2 6.5.6    缺位默认补0\r\n     * if (v2 > v1) return 1\r\n     * else (v2 == v1) retun 0\r\n     * else return -1\r\n     */\r\n    verCompare: function (v1, v2) {\r\n        if (v1 === v2) return 0\r\n\r\n        v1 = v1.split('.')\r\n        v2 = v2.split('.')\r\n\r\n        var len = v1.length >= v2.length ? v1.length : v2.length\r\n        var i = 0\r\n        var r = 0\r\n\r\n        while(len--) {\r\n            var c1 = Number(v1[i] || 0)\r\n            var c2 = Number(v2[i++] || 0)\r\n\r\n            if (c2 > c1) {\r\n                return 1\r\n            } else if (c2 < c1) {\r\n                return -1\r\n            }\r\n        }\r\n        return r\r\n    },\r\n    /**\r\n     * Collect timer in batch\r\n     * @param  {number} count split time by count\r\n     * @param  {number} time timeout number\r\n     */\r\n    batchTimeout: function (count, time) {\r\n      var that = this\r\n      var inter = time/count\r\n      if (!inter || inter < 1) {\r\n        count = 1\r\n        inter = time\r\n      }\r\n      inter = Math.round(inter)\r\n      var collecting = false\r\n      var queue = []\r\n      var startTime\r\n      var endTimes = []\r\n      function handler(fn) {\r\n        queue.push(fn)\r\n        if (collecting) {\r\n            endTimes.push(+new Date())\r\n            return\r\n        } else {\r\n            startTime = +new Date()\r\n            endTimes.push(startTime)\r\n        }\r\n        collecting = true\r\n        setTimeout(function () {\r\n          var offset = Math.round(that.reduce(endTimes, function (result,endTime) {\r\n              return result + (endTime - startTime)\r\n          }, 0)/endTimes.length)\r\n          collecting = false\r\n          endTimes = []\r\n          var flushFns = queue.slice(0)\r\n          queue = []\r\n          setTimeout(function () {\r\n            flushFns.forEach(function (f) {\r\n              try {\r\n                f && f()\r\n              } catch(e) {\r\n                console.error(e)\r\n              }\r\n            })\r\n          }, Math.max(time - inter - offset, 0))\r\n        }, inter)\r\n      }\r\n      return handler\r\n    }\r\n}\r\n\r\nmodule.exports = fns\r\n","/**\n *  Simple Pub/Sub module\n *  兼容IE\n **/\n\n'use strict';\n\nvar fns = require('@tencent/fns')\n\nfunction Message() {\n  this._evtObjs = {};\n  this._outdatedMsgs = {};\n}\nMessage.prototype.on = function (evtType, handler, _once) {\n  if (!this._evtObjs[evtType]) {\n    this._evtObjs[evtType] = [];\n  }\n  this._evtObjs[evtType].push({\n    handler: handler,\n    once: _once\n  })\n  var that = this\n  return function () {\n    that.off(evtType, handler)\n  }\n}\nMessage.prototype.wait = function (evtType, handler) {\n  if (this._outdatedMsgs[evtType]) {\n    handler.apply(null, this._outdatedMsgs[evtType])\n    return noop\n  } else {\n    // call once\n    return this.on(evtType, handler, true)\n  }\n}\nMessage.prototype.off = function (evtType, handler) {\n  var that = this\n  var types;\n  if (evtType) {\n    types = [evtType];\n  } else {\n    types = fns.keys(this._evtObjs)\n  }\n  fns.forEach(types, function (type) {\n    if (!handler) {\n      // remove all\n      that._evtObjs[type] = [];\n    } else {\n      var handlers = that._evtObjs[type] || [],\n        nextHandlers = [];\n\n      fns.forEach(handlers, function (evtObj) {\n        if (evtObj.handler !== handler) {\n          nextHandlers.push(evtObj)\n        }\n      })\n      that._evtObjs[type] = nextHandlers;\n    }\n  })\n\n  return this;\n}\nMessage.prototype.emit = function (evtType) {\n  var args = Array.prototype.slice.call(arguments, 1)\n\n  this._outdatedMsgs[evtType] = args\n  var handlers = this._evtObjs[evtType] || [];\n  fns.forEach(handlers, function (evtObj) {\n    if (evtObj.once && evtObj.called) return\n    evtObj.called = true\n    evtObj.handler && evtObj.handler.apply(null, args);\n  })\n}\nMessage.prototype.emitAsync = function () {\n  var args = arguments\n  var ctx = this\n  setTimeout(function () {\n    ctx.emit.apply(ctx, args)\n  }, 0)\n}\nMessage.prototype.assign = function (target) {\n  var msg = this\n  fns.forEach(['on', 'off', 'wait', 'emit', 'emitAsync'], function (name) {\n    var method = msg[name]\n    target[name] = function () {\n      return method.apply(msg, arguments)\n    }\n  })\n}\nfunction noop() { }\n/**\n *  Global Message Central\n **/\n; (new Message()).assign(Message)\nexport default Message;\n","import Message from './lib/message'\nimport requestFactory, { first_screen_name, register } from './lib/request-factory'\n\n\nlet message = new Message()\n\ninterface pageData {\n  state: object,\n  origin: object\n}\n\nlet global_cache = {}\n\n/**\n *\n * @param {页面名字} name\n * @param {页面配置} options\n */\nfunction P(name: string, options: any) {\n\n  let methodValidate = ['onPageDataPreloadCallback', 'onPageDataFirstScreenCallback', 'onPageDataPagingCallback']\n  methodValidate.forEach(val => {\n    if (!options[val]) {\n      throw new Error(`缺少 ${val} 方法`)\n    }\n  })\n  methodValidate.forEach(val => {\n    let former = options[val]\n    options[val] = function () {\n      let deltData = former.apply(this, arguments)\n      return extend[val](deltData)\n    }\n  })\n  let requestPageData = options.$requestPageData\n  message.on(`preload:${name}`, () => {\n    extend.$onPreload()\n  })\n\n  let extend = {\n    data: {\n      state: '',   // 业务首屏数据\n      // status: {     // 业务首屏状态数据\n      //   isLoading: true,\n      //   errCode: 0\n      // }\n    },\n    onLoad() {\n      let data = this.$take()  // preload的\n      let isPreload = true\n      if (!data) {\n        if (this.isCacheFirstScreen) {\n          data = this.$getFirstScreen()\n        }\n        isPreload = false\n      }\n      if (data) {\n        this.setData({\n          state: data.state\n        })\n        this.$setOrigin(data.origin)\n      }\n      // 如果preload失败\n      if (!isPreload) {\n        this.$requestPageData()\n      }\n\n    },\n    // 存储数据源，挂载在this上，页面this实例存在的时候调用\n    $getOrigin: function () {\n      return this._origin\n    },\n    $setOrigin: function (origin) {\n      this._origin = origin\n    },\n    // 获取缓存数据\n    $take: function () {\n      let data = global_cache[name]\n      global_cache[name] = undefined\n      return data\n    },\n    $put: function (data: any) {\n      global_cache[name] = data\n    },\n    // 首屏数据缓存\n    $setFirstScreen: function (data: { origin: object, state: object }) {\n      wx.setStorage({\n        key: name,\n        data\n      })\n    },\n    $getFirstScreen: function () {\n      return wx.getStorageSync(name);\n    },\n    $onPreload() {\n      this.$requestPageData('', true)\n    },\n    $preload(name) {\n      message.emit(`preload:${name}`)\n    },\n    // 默认使用first_screen_name这个数据源配置作为首屏，当然用户也可以自己实现$requestPageData去获取自己的数据\n    $requestPageData(extraParam, isPreload) {\n      (requestPageData || this.$request).call(this, '', extraParam).then(data => {\n        let formatted\n        console.log(\"EEEEEEE\", data)\n        if (isPreload) {\n          formatted = options.onPageDataPreloadCallback(data)\n          if (formatted) {\n            if (formatted.origin && formatted.state) {\n              this.$put(formatted)\n              options.isCacheFirstScreen && this.$setFirstScreen(formatted)\n            }\n          }\n        } else if (!extraParam) {\n          formatted = this.onPageDataFirstScreenCallback(data)\n          if (formatted) {\n            formatted.origin && this.$setOrigin(formatted.origin)\n            formatted.state && this.setData({\n              state: formatted.state\n            })\n            if (formatted.origin && formatted.state) {\n              this.isCacheFirstScreen && this.$setFirstScreen(formatted)\n            }\n          }\n        } else {\n          formatted = this.onPageDataPagingCallback(data)\n          if (formatted) {\n            formatted.origin && this.$setOrigin(formatted.origin)\n            formatted.state && this.setData({\n              state: formatted.state\n            })\n          }\n        }\n      }).catch(err => {\n        console.log(\"[error]\", err)\n      })\n    },\n    $request(moduleName, extraParam) {\n      return requestFactory(name, moduleName, extraParam)\n    },\n    $paging() {\n      let param = this.onBeforePaging()\n      this.$requestPageData(param)\n    },\n    // 重载首屏预加载的数据处理方法\n    onPageDataPreloadCallback(data): pageData {\n      return data\n    },\n    // 重载首屏的数据处理方法\n    onPageDataFirstScreenCallback(data): pageData {\n      return data\n    },\n    // 重载翻页的数据处理方法\n    onPageDataPagingCallback(data): pageData {\n      return data\n    }\n  }\n  options.$requestPageData = extend.$requestPageData\n  options.data = {\n    ...extend.data,\n    ...options.data\n  }\n  options.onLoad = Wrapper(extend.onLoad, options.onLoad || noop)\n  Page({\n    ...extend,\n    ...options\n  })\n}\n\n\nfunction Wrapper(before: Function, after: Function) {\n  return function () {\n    before.apply(this, arguments)\n    after.apply(this, arguments)\n  }\n}\nP.register = register\nP.requestFactory = requestFactory\nP.first_screen_name = first_screen_name\n\nexport default P\n\nfunction noop() { }\n"],"sourceRoot":""}